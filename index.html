<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ITSBAD — Exclusive Curated Showcase</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&family=Space+Grotesk:wght@300;500;700&display=swap');
        
        :root {
            --primary: #a855f7;
            --secondary: #3b82f6;
            --bg: #000000;
        }

        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background-color: var(--bg);
            color: #ffffff;
            overflow-x: hidden;
            cursor: default;
        }

        .font-heading { font-family: 'Space Grotesk', sans-serif; }

        /* Background Effects */
        .blob {
            position: fixed;
            width: 500px;
            height: 500px;
            background: radial-gradient(circle, rgba(168, 85, 247, 0.15) 0%, transparent 70%);
            border-radius: 50%;
            filter: blur(80px);
            z-index: -1;
            pointer-events: none;
        }

        /* Glassmorphism */
        .glass {
            background: rgba(255, 255, 255, 0.02);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.05);
            transition: all 0.5s cubic-bezier(0.23, 1, 0.32, 1);
        }

        .glass:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: rgba(168, 85, 247, 0.3);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        }

        /* Hero Text Gradient */
        .text-gradient {
            background: linear-gradient(to right, #ffffff, #a855f7, #3b82f6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 4px; }
        ::-webkit-scrollbar-track { background: #000; }
        ::-webkit-scrollbar-thumb { background: #222; border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: var(--primary); }

        /* Product Card Animation */
        .prod-card:hover .prod-img { transform: scale(1.1) rotate(2deg); }
        .prod-card:hover .buy-btn { background: white; color: black; }

        /* Interactive Cursor (Optional logic in JS) */
        .cursor-dot {
            width: 8px; height: 8px; background: white; border-radius: 50%;
            position: fixed; pointer-events: none; z-index: 999;
        }
    </style>
</head>
<body>

    <div class="blob" id="blob1"></div>
    <div class="blob" id="blob2" style="bottom: 0; right: 0;"></div>

    <div id="loader" class="fixed inset-0 z-[100] bg-black flex items-center justify-center">
        <div class="flex flex-col items-center">
            <div class="w-16 h-[2px] bg-white/10 overflow-hidden relative">
                <div id="loader-bar" class="absolute inset-0 bg-purple-600 w-0"></div>
            </div>
            <span class="mt-4 text-[8px] font-bold tracking-[0.8em] uppercase opacity-40">Loading Excellence</span>
        </div>
    </div>

    <nav class="fixed top-0 w-full z-50 px-6 py-6 transition-all duration-500" id="nav">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
            <div class="flex items-center gap-2 group cursor-pointer" onclick="switchView('landing')">
                <div class="w-8 h-8 bg-gradient-to-tr from-purple-600 to-blue-600 rounded-lg flex items-center justify-center transform group-hover:rotate-12 transition-transform">
                    <span class="font-black text-xs italic">IB</span>
                </div>
                <span class="font-heading font-bold text-lg tracking-tighter">ITSBAD<span class="text-purple-500">.</span></span>
            </div>
            
            <div class="flex items-center gap-6">
                <div id="admin-info" class="hidden flex items-center gap-3 bg-white/5 px-4 py-2 rounded-full border border-white/10">
                    <div class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></div>
                    <span class="text-[9px] font-bold uppercase tracking-widest text-neutral-400">Admin Mode</span>
                    <button onclick="logoutAdmin()" class="text-red-400 hover:text-red-300 transition-colors"><i data-lucide="log-out" class="w-4 h-4"></i></button>
                </div>
            </div>
        </div>
    </nav>

    <section id="landing-view" class="hidden min-h-screen flex flex-col justify-center items-center pt-20 px-6">
        <div class="text-center max-w-4xl">
            <h1 class="font-heading text-7xl md:text-[120px] font-black leading-none tracking-tighter mb-8 italic">
                CRAFTED <br> <span class="text-gradient">SELECTION.</span>
            </h1>
            <p class="text-neutral-400 text-sm md:text-base font-medium max-w-xl mx-auto mb-16 leading-relaxed">
                Kurasi produk digital dan fisik eksklusif untuk kebutuhan gaya hidup modern. Dipilih secara teliti oleh tim <span class="text-white">Itsbad</span>.
            </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 w-full max-w-6xl">
            <div onclick="switchView('showcase', 'shopee')" class="glass p-12 rounded-[40px] cursor-pointer group relative overflow-hidden">
                <div class="absolute top-0 right-0 p-8 opacity-5 group-hover:opacity-10 transition-opacity">
                    <i data-lucide="shopping-bag" class="w-32 h-32"></i>
                </div>
                <div class="relative z-10">
                    <div class="w-12 h-12 bg-orange-500 rounded-2xl flex items-center justify-center mb-6 shadow-[0_0_30px_rgba(249,115,22,0.3)]">
                        <i data-lucide="shopping-cart" class="text-white w-6 h-6"></i>
                    </div>
                    <h3 class="font-heading text-3xl font-bold mb-2">SHOPEE</h3>
                    <p class="text-neutral-500 text-xs font-medium uppercase tracking-widest">Viral & Trends</p>
                </div>
            </div>

            <div onclick="switchView('showcase', 'tiktok')" class="glass p-12 rounded-[40px] cursor-pointer group relative overflow-hidden">
                <div class="absolute top-0 right-0 p-8 opacity-5 group-hover:opacity-10 transition-opacity">
                    <i data-lucide="video" class="w-32 h-32"></i>
                </div>
                <div class="relative z-10">
                    <div class="w-12 h-12 bg-pink-600 rounded-2xl flex items-center justify-center mb-6 shadow-[0_0_30px_rgba(219,39,119,0.3)]">
                        <i data-lucide="play" class="text-white w-6 h-6"></i>
                    </div>
                    <h3 class="font-heading text-3xl font-bold mb-2">TIKTOK</h3>
                    <p class="text-neutral-500 text-xs font-medium uppercase tracking-widest">Video Reviews</p>
                </div>
            </div>

            <div onclick="switchView('showcase', 'tokopedia')" class="glass p-12 rounded-[40px] cursor-pointer group relative overflow-hidden">
                <div class="absolute top-0 right-0 p-8 opacity-5 group-hover:opacity-10 transition-opacity">
                    <i data-lucide="store" class="w-32 h-32"></i>
                </div>
                <div class="relative z-10">
                    <div class="w-12 h-12 bg-emerald-500 rounded-2xl flex items-center justify-center mb-6 shadow-[0_0_30px_rgba(16,185,129,0.3)]">
                        <i data-lucide="award" class="text-white w-6 h-6"></i>
                    </div>
                    <h3 class="font-heading text-3xl font-bold mb-2">TOKOPEDIA</h3>
                    <p class="text-neutral-500 text-xs font-medium uppercase tracking-widest">Hobby & Tech</p>
                </div>
            </div>
        </div>

        <button onclick="toggleLoginModal(true)" class="my-20 opacity-10 hover:opacity-100 transition-opacity">
            <i data-lucide="command" class="w-5 h-5"></i>
        </button>
    </section>

    <section id="showcase-view" class="hidden min-h-screen pt-32 pb-20 px-6">
        <div class="max-w-7xl mx-auto">
            
            <div class="flex flex-col md:flex-row md:items-end justify-between mb-16 gap-6">
                <div>
                    <button onclick="switchView('landing')" class="flex items-center gap-2 text-neutral-500 hover:text-white transition-colors text-[10px] font-bold uppercase tracking-[0.3em] mb-4">
                        <i data-lucide="arrow-left" class="w-4 h-4"></i> Kembali
                    </button>
                    <h2 id="platform-title-nav" class="font-heading text-5xl md:text-7xl font-black italic uppercase tracking-tighter">COLLECTION</h2>
                </div>
                <div class="flex gap-4">
                    <div class="bg-white/5 border border-white/10 px-6 py-3 rounded-2xl backdrop-blur-md">
                        <span id="item-count" class="text-2xl font-black italic">00</span>
                        <span class="text-[9px] uppercase font-bold tracking-widest text-neutral-500 ml-2">Items Tracked</span>
                    </div>
                </div>
            </div>

            <div id="admin-panel" class="hidden glass rounded-[3rem] p-8 mb-20 border-purple-500/30">
                <div class="flex justify-between items-center mb-8">
                    <h4 class="font-heading text-xl font-bold flex items-center gap-3">
                        <i data-lucide="edit-3" class="text-purple-500"></i> Editor Console
                    </h4>
                </div>
                <form id="product-form" class="grid grid-cols-1 lg:grid-cols-4 gap-6">
                    <input type="hidden" id="edit-id">
                    <div class="lg:col-span-2 space-y-4">
                        <input id="in-title" required placeholder="Nama Produk Premium" class="w-full bg-white/5 border border-white/10 rounded-2xl px-6 py-4 outline-none focus:border-purple-500 text-sm">
                        <textarea id="in-desc" placeholder="Detail spesifikasi atau alasan kenapa produk ini direkomendasikan..." class="w-full bg-white/5 border border-white/10 rounded-2xl px-6 py-4 h-28 outline-none focus:border-purple-500 text-sm"></textarea>
                    </div>
                    <div class="space-y-4">
                        <input id="in-link" required type="url" placeholder="URL Destinasi (Affiliate/Store)" class="w-full bg-white/5 border border-white/10 rounded-2xl px-6 py-4 outline-none focus:border-purple-500 text-sm">
                        <div class="relative">
                            <input id="in-image" placeholder="Image URL" class="w-full bg-white/5 border border-white/10 rounded-2xl px-6 py-4 outline-none focus:border-purple-500 text-sm">
                            <label class="absolute right-3 top-3 bg-white/10 p-2 rounded-xl cursor-pointer hover:bg-purple-600 transition-colors">
                                <i data-lucide="image-plus" class="w-4 h-4"></i>
                                <input type="file" id="file-input" class="hidden" accept="image/*">
                            </label>
                        </div>
                    </div>
                    <div class="space-y-4">
                        <input id="in-order" type="number" required placeholder="Priority Index (1-99)" class="w-full bg-white/5 border border-white/10 rounded-2xl px-6 py-4 outline-none focus:border-purple-500 text-sm">
                        <button type="submit" id="btn-submit" class="w-full bg-purple-600 hover:bg-purple-500 text-white font-black py-4 rounded-2xl transition-all shadow-lg shadow-purple-600/20 uppercase text-[10px] tracking-widest">
                            Simpan Perubahan
                        </button>
                    </div>
                </form>
            </div>

            <div id="product-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8"></div>

            <div id="empty-msg" class="hidden py-40 text-center">
                <div class="opacity-10 mb-6 flex justify-center"><i data-lucide="database-zap" class="w-20 h-20"></i></div>
                <p class="text-[10px] font-bold uppercase tracking-[0.5em] text-neutral-600">Database is currently empty</p>
            </div>
        </div>
    </section>

    <div id="login-modal" class="fixed inset-0 z-[100] hidden items-center justify-center bg-black/95 backdrop-blur-3xl p-6">
        <div class="w-full max-w-sm glass p-12 rounded-[3rem] text-center border-white/10">
            <h3 class="font-heading text-4xl font-black italic mb-2 tracking-tighter">SECURE.</h3>
            <p class="text-neutral-500 text-[10px] font-bold tracking-[0.3em] uppercase mb-10 italic">Identify Yourself</p>
            <form id="login-form" class="space-y-4">
                <input id="login-pass" type="password" placeholder="••••••" class="w-full bg-white/5 border border-white/10 rounded-2xl px-6 py-6 text-center text-4xl font-bold tracking-[0.5em] focus:border-purple-500 outline-none">
                <button type="submit" class="w-full bg-white text-black font-black py-5 rounded-2xl text-[10px] uppercase tracking-[0.2em] hover:bg-purple-600 hover:text-white transition-all">Grant Access</button>
                <button type="button" onclick="toggleLoginModal(false)" class="text-[9px] font-bold text-neutral-500 uppercase tracking-widest">Cancel</button>
            </form>
        </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, collection, addDoc, onSnapshot, doc, deleteDoc, updateDoc } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyBb3HZbY7Tk6gWQagRSEOhi0dZVZ5mWFDA",
            authDomain: "showcaseitsbad.firebaseapp.com",
            projectId: "showcaseitsbad",
            storageBucket: "showcaseitsbad.firebasestorage.app",
            messagingSenderId: "964069299303",
            appId: "1:964069299303:web:dfcc88ced5a701ce2eb0c2"
        };

        let db, auth, user, isAdmin = false, allProducts = [], currentPlatform = null, isEditing = false;

        async function init() {
            try {
                const app = initializeApp(firebaseConfig);
                auth = getAuth(app);
                db = getFirestore(app);
                
                // GSAP Loader Animation
                gsap.to("#loader-bar", { width: "100%", duration: 1.5, ease: "power4.inOut", onComplete: () => {
                    gsap.to("#loader", { opacity: 0, duration: 0.5, onComplete: () => {
                        document.getElementById('loader').style.display = 'none';
                        switchView('landing');
                    }});
                }});

                await signInAnonymously(auth);
                setupRealtimeData();
            } catch (err) { console.error(err); }
        }

        function setupRealtimeData() {
            onSnapshot(collection(db, 'products'), (snapshot) => {
                allProducts = snapshot.docs.map(d => ({ id: d.id, ...d.data() }));
                if (currentPlatform) renderGrid();
            });
        }

        window.switchView = (view, platform = null) => {
            document.getElementById('landing-view').classList.add('hidden');
            document.getElementById('showcase-view').classList.add('hidden');
            
            if (view === 'landing') {
                document.getElementById('landing-view').classList.remove('hidden');
                currentPlatform = null;
            } else {
                document.getElementById('showcase-view').classList.remove('hidden');
                currentPlatform = platform;
                document.getElementById('platform-title-nav').innerText = platform;
                renderGrid();
            }
            lucide.createIcons();
            gsap.from(`#${view}-view`, { opacity: 0, y: 30, duration: 0.8, ease: "power3.out" });
        };

        // UI Logic
        window.toggleLoginModal = (show) => {
            const modal = document.getElementById('login-modal');
            modal.classList.toggle('hidden', !show);
            if(show) modal.classList.add('flex'); else modal.classList.remove('flex');
        };

        document.getElementById('login-form').onsubmit = (e) => {
            e.preventDefault();
            if (document.getElementById('login-pass').value === '110603') {
                isAdmin = true;
                toggleLoginModal(false);
                document.getElementById('admin-panel').classList.remove('hidden');
                document.getElementById('admin-info').classList.remove('hidden');
                renderGrid();
            } else { alert("ACCESS DENIED."); }
        };

        window.logoutAdmin = () => {
            isAdmin = false;
            document.getElementById('admin-panel').classList.add('hidden');
            document.getElementById('admin-info').classList.add('hidden');
            renderGrid();
        };

        document.getElementById('product-form').onsubmit = async (e) => {
            e.preventDefault();
            const payload = {
                title: document.getElementById('in-title').value,
                description: document.getElementById('in-desc').value,
                link: document.getElementById('in-link').value,
                image: document.getElementById('in-image').value,
                sortOrder: parseInt(document.getElementById('in-order').value) || 0,
                platform: currentPlatform,
                updatedAt: new Date().toISOString()
            };
            try {
                if (isEditing) {
                    await updateDoc(doc(db, 'products', document.getElementById('edit-id').value), payload);
                } else {
                    await addDoc(collection(db, 'products'), payload);
                }
                resetForm();
            } catch (err) { alert(err.message); }
        };

        window.startEdit = (id) => {
            const p = allProducts.find(x => x.id === id);
            isEditing = true;
            document.getElementById('edit-id').value = p.id;
            document.getElementById('in-title').value = p.title;
            document.getElementById('in-desc').value = p.description;
            document.getElementById('in-link').value = p.link;
            document.getElementById('in-image').value = p.image;
            document.getElementById('in-order').value = p.sortOrder;
            document.getElementById('btn-submit').innerText = "Update Product Info";
            window.scrollTo({ top: 200, behavior: 'smooth' });
        };

        window.deleteProd = async (id) => {
            if (confirm("Hapus item ini selamanya?")) await deleteDoc(doc(db, 'products', id));
        };

        window.resetForm = () => {
            isEditing = false;
            document.getElementById('product-form').reset();
            document.getElementById('btn-submit').innerText = "Simpan Perubahan";
            lucide.createIcons();
        };

        document.getElementById('file-input').onchange = (e) => {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = () => document.getElementById('in-image').value = reader.result;
                reader.readAsDataURL(file);
            }
        };

        function renderGrid() {
            const grid = document.getElementById('product-grid');
            const empty = document.getElementById('empty-msg');
            const filtered = allProducts
                .filter(p => p.platform === currentPlatform)
                .sort((a, b) => (a.sortOrder || 0) - (b.sortOrder || 0));

            document.getElementById('item-count').innerText = filtered.length < 10 ? `0${filtered.length}` : filtered.length;

            if (filtered.length === 0) {
                grid.innerHTML = '';
                empty.classList.remove('hidden');
                return;
            }

            empty.classList.add('hidden');
            grid.innerHTML = filtered.map((p, i) => `
                <div class="prod-card glass rounded-[2.5rem] overflow-hidden group">
                    <div class="aspect-[1/1] overflow-hidden relative">
                        <img src="${p.image || 'https://images.unsplash.com/photo-1519389950473-47ba0277781c'}" class="prod-img w-full h-full object-cover transition-all duration-1000">
                        <div class="absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-60"></div>
                        <div class="absolute top-6 left-6 bg-black/40 backdrop-blur-md px-4 py-1.5 rounded-full border border-white/10">
                            <span class="text-[8px] font-black tracking-widest uppercase italic">#${p.sortOrder || i + 1}</span>
                        </div>
                        ${isAdmin ? `
                            <div class="absolute top-6 right-6 flex flex-col gap-2">
                                <button onclick="startEdit('${p.id}')" class="w-10 h-10 bg-white text-black rounded-xl flex items-center justify-center hover:bg-purple-600 hover:text-white transition-all"><i data-lucide="edit-3" class="w-4 h-4"></i></button>
                                <button onclick="deleteProd('${p.id}')" class="w-10 h-10 bg-white text-black rounded-xl flex items-center justify-center hover:bg-red-600 hover:text-white transition-all"><i data-lucide="trash-2" class="w-4 h-4"></i></button>
                            </div>
                        ` : ''}
                    </div>
                    <div class="p-8">
                        <h4 class="font-heading text-xl font-bold mb-3 tracking-tight group-hover:text-purple-400 transition-colors uppercase italic">${p.title}</h4>
                        <p class="text-neutral-500 text-xs leading-relaxed mb-8 line-clamp-3 font-medium">${p.description || "No specific details provided for this premium item."}</p>
                        <a href="${p.link}" target="_blank" class="buy-btn w-full py-5 bg-white/5 border border-white/10 rounded-2xl flex items-center justify-center gap-3 text-[9px] font-black uppercase tracking-[0.2em] transition-all">
                            View Details <i data-lucide="arrow-up-right" class="w-3 h-3"></i>
                        </a>
                    </div>
                </div>
            `).join('');
            lucide.createIcons();
        }

        // Mouse Blob Movement
        document.addEventListener('mousemove', (e) => {
            gsap.to("#blob1", { x: e.clientX * 0.2, y: e.clientY * 0.2, duration: 2, ease: "power2.out" });
            gsap.to("#blob2", { x: -e.clientX * 0.1, y: -e.clientY * 0.1, duration: 3, ease: "power2.out" });
        });

        init();
    </script>
</body>
</html>
